.. _base-module:

The base configurator is responsible for completing the first steps (SLA), activating licensed modules, importing 
PKI and system wide settings like date/time/networking.


.. _sla-first-steps:

SLA / First steps
=================
The configurator can be used to accept the Service License Agreement as well as the "first steps" LMI prompts, including 
enabling FIPS compliance. This is always done with the admin account using the default password.
Failing this step does not result in autoconfig aborting.


.. autofunction:: src.verify_access_autoconf.configure.ISVA_Configurator.accept_eula


.. autofunction:: src.verify_access_autoconf.configure.ISVA_Configurator.complete_setup


.. _lmi-password-update:

Password update
===============
The password of the management account may be updated once. This account must already exist on the appliance and
have sufficient permission to complete all of the configuration required.


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Admin_Password
   :members:


.. _system-settings:

Administrator Configuration
===========================
System wide settings such as LMI log file configuration, account management and advanced tuning parameters.

To set system administrator settings use the ``admin_config`` key. A complete list of the available configuration 
properties can be found `here <https://ibm-security.github.io/pyisva>`_. An example configuration is:


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Admin_Config
   :members:
   :undoc-members:


.. _ssl-database:

SSL Certificate database
========================
X509 Certificates and PCKS12 key-files can be imported into Verify Access SSL databases. The structure of this 
configuration option is to specify a yaml list of SSL databases. Each entry in the list has three keys: database name; 
personal certificates; and signer certificates. If a database does not exist on the appliance then it is created before 
files are imported.

SSL certificates are imported into the appliance by reading files from the file system. Therefore any PKI which is to 
be imported into the appliance must specify the fully-qualified path or be a path relative to the ``ISVA_CONFIG_BASE`` 
environment variable. A complete list of the available configuration properties can be found 
`here <https://ibm-security.github.io/pyisva>`_. An example configuration is:


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.SSL_Certificates
   :members:


Administrator Account Management
================================
Administrator accounts, groups and permissions for managing Verify Access features can be defined in two configuration
entries. The first entry allows for the creation of users and groups which can be used to authenticate to the 
management interface. A complete list of the available configuration properties can be found 
`here <https://ibm-security.github.io/pyisva>`_. An example configuration is:


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Account_Management
   :members:


Managment Auhtorization
=======================
Administrators are also able to manage access to Verify Access features. This allows for more fine grained control 
over which accounts are permitted to modify a deployment. Administrators are not able to create new features, however 
they can create "roles" which contains permissions for one or more features. Each feature in a role has two permission
levels: read access (can view but cannot modify); and write access (permission to modify). A complete list of the 
available configuration properties can be found `here <https://ibm-security.github.io/pyisva>`_. An example 
configuration is:


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Management_Authorization
   :members:


.. _module-activation:

Module Activation
=================
License files to activate the Advanced Access Control, Federation and WebSEAL Reverse Proxy modules are imported in 
this step. Subsequent module configuration is dependant on one or more of these licenses being applied to an appliance
or container. An example configuration is:


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Module_Activations
   :members:


.. _advanced-tuning-parameters:

Advanced tuning parameters
==========================
Advanced Tuning Parameters can be set on an appliance to configure additional settings not exposed by the LMI. Any 
required advanced tuning parameters for your deployment will be communicated to you via support. An example 
configuration is:


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Advanced_Tuning_Parameter
   :members:


Configuration Snapshots
=======================
A snapshot can be applied to both Container and Appliance deployments to restore a previous configuration state. This 
is done via a signed archive file, generated by the deployment you are trying to preserve / re-create.


.. autoclass:: src.verify_access_autoconf.configure.ISVA_Configurator.Snapshot
   :members:

