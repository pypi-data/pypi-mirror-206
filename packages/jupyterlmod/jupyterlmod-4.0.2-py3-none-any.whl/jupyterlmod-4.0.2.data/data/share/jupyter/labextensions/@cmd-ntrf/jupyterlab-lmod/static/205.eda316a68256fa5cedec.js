"use strict";(self.webpackChunk_cmd_ntrf_jupyterlab_lmod=self.webpackChunk_cmd_ntrf_jupyterlab_lmod||[]).push([[205,987],{205:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function i(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(687),a=n(467),l=n(142),i=n(33),s={id:"jupyterlab-server-proxy",autoStart:!0,requires:[a.ILauncher,o.ILayoutRestorer],activate:function(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield fetch(l.PageConfig.getBaseUrl()+"server-proxy/servers-info");if(!r.ok)return console.log("Could not fetch metadata about registered servers. Make sure jupyter-server-proxy is installed."),void console.log(r);const{commands:o,shell:a}=e,s=yield r.json(),c="server-proxy",d=new i.WidgetTracker({namespace:c}),u=c+":open";n&&n.restore(d,{command:u,args:e=>({url:e.content.url,title:e.content.title.label,newBrowserTab:!1,id:e.content.id}),name:e=>e.content.id}),o.addCommand(u,{label:e=>e.title,execute:e=>{const t=e.id,n=e.title,r=e.url;if(e.newBrowserTab)return void window.open(r,"_blank");let o=d.find((e=>e.content.id==t));if(o||(o=function(e,t,n){const r=new i.IFrame({sandbox:["allow-same-origin","allow-scripts","allow-popups","allow-forms","allow-downloads","allow-modals"]});r.title.label=n,r.title.closable=!0,r.url=t,r.addClass("jp-ServerProxy"),r.id=e;const o=new i.MainAreaWidget({content:r});return o.addClass("jp-ServerProxy"),o}(t,r,n)),d.has(o)||d.add(o),!o.isAttached)return a.add(o),o;a.activateById(o.id)}});for(let e of s.server_processes){if(!e.launcher_entry.enabled)continue;const n=l.PageConfig.getBaseUrl()+e.launcher_entry.path_info,r=e.launcher_entry.title,o=e.new_browser_tab,a={command:u,args:{url:n,title:r+(o?" [â†—]":""),newBrowserTab:o,id:c+":"+e.name},category:"Notebook"};e.launcher_entry.icon_url&&(a.kernelIconUrl=e.launcher_entry.icon_url),t.add(a)}}))}};t.default=s}}]);