"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[914],{82576:function(e,n,t){t.d(n,{a:function(){return a}});var i=t(19065),r=t(325),o=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,o=r.checked,s=r.id;return o?t.add(s):t.delete(s),{lastCheckedId:s,checkedIds:t};case"toggle-slice":var a=n.payload,c=a.checked,l=a.id,d=a.allIds,u=e.lastCheckedId,h=u?d.indexOf(u):-1,p=d.indexOf(l);if(-1===h||-1===p)return e;for(var x=[h,p].sort(),m=(0,i.Z)(x,2),f=m[0],g=m[1],j=f;j<=g;j++)c?t.add(d[j]):t.delete(d[j]);return{lastCheckedId:l,checkedIds:t};case"toggle-all":var v=n.payload,y=v.checked,k=v.allIds;return{lastCheckedId:null,checkedIds:y?new Set(k):new Set}}},s={checkedIds:new Set,lastCheckedId:null};function a(e){var n=r.useReducer(o,s),t=(0,i.Z)(n,2),a=t[0],c=t[1];return[a,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&a.lastCheckedId?c({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):c({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){c({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},29256:function(e,n,t){t.d(n,{K:function(){return $},m:function(){return G}});var i,r=t(99500),o=t(16798),s=t(85358),a=t(95764),c=t(19065),l=t(95550),d=t.n(l),u=t(49148),h=t(65880),p=t(3159),x=t(75453),m=t(762),f=t(8412),g=t(11831),j=t(36819),v=t(8358),y=t(24818),k=t(325),C=t(27601),b=t(52848),w=t(13065),N=t(63579),I=t(9429),R=t(69305),Z=t(35001),T=t(28797),P=t(90933),S=t(76336),O=t(39956),E=t(25582),_=t(72441),z=t(77843),A=t(6466),L=t(7838),D=t(12745),M=t(97465),F=t(55752),H=t(32289),J=function(e){if("LaunchRunSuccess"===(null===e||void 0===e?void 0:e.launchPipelineReexecution.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.launchPipelineReexecution},K=function(e){if(!e)return"Unknown error";switch(e.__typename){case"ConflictingExecutionParamsError":return"Conflicting execution parameters";case"InvalidOutputError":return"Invalid output";case"InvalidStepError":return"Invalid step";case"NoModeProvidedError":return"No mode provided";case"PipelineNotFoundError":return"Job not found in workspace";case"PresetNotFoundError":return"Preset not found";case"PythonError":return e.message;case"RunConfigValidationInvalid":return"Run config invalid";case"RunConflict":return"Run conflict";case"UnauthorizedError":return"Re-execution not authorized";case"InvalidSubsetError":return"Invalid op subset: "+e.message;default:return"Unknown error"}},B=function(e){return{frozenRuns:e,step:"initial",reexecution:{completed:0,errors:{}}}},U=function(e,n){switch(n.type){case"reset":return B(n.frozenRuns);case"start":return(0,a.Z)((0,a.Z)({},e),{},{step:"reexecuting"});case"reexecution-success":var t=e.reexecution;return(0,a.Z)((0,a.Z)({},e),{},{step:"reexecuting",reexecution:(0,a.Z)((0,a.Z)({},t),{},{completed:t.completed+1})});case"reexecution-error":var i=e.reexecution;return(0,a.Z)((0,a.Z)({},e),{},{step:"reexecuting",reexecution:(0,a.Z)((0,a.Z)({},i),{},{completed:i.completed+1,errors:(0,a.Z)((0,a.Z)({},i.errors),{},(0,o.Z)({},n.id,n.error))})});case"complete":return(0,a.Z)((0,a.Z)({},e),{},{step:"completed"})}},q=function(e){var n=e.isOpen,t=e.onClose,i=e.onComplete,r=e.reexecutionStrategy,o=e.selectedRuns,a=k.useRef(o),l=k.useReducer(U,a.current,B),h=(0,c.Z)(l,2),p=h[0],m=h[1],f=Object.keys(p.frozenRuns).length;k.useEffect((function(){n&&m({type:"reset",frozenRuns:a.current})}),[n]),k.useEffect((function(){n||(a.current=o)}),[n,o]);var g=(0,u.D)(F.kO),y=(0,c.Z)(g,1)[0],C=function(){var e=(0,s.Z)(d().mark((function e(){var n,t,o,s,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:"start"}),n=Object.keys(p.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return o=n[t],e.next=7,y({variables:{reexecutionParams:{parentRunId:o,strategy:r}}});case 7:s=e.sent,"LaunchRunSuccess"===(null===(a=s.data)||void 0===a?void 0:a.launchPipelineReexecution.__typename)?m({type:"reexecution-success"}):m({type:"reexecution-error",id:o,error:J(a)});case 10:t++,e.next=3;break;case 13:m({type:"complete"}),i(p.reexecution);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b="reexecuting"!==p.step;return(0,H.jsxs)(v.Vq,{isOpen:n,title:r===R.hmq.ALL_STEPS?"Re-execute runs":"Re-execute runs from failure",canEscapeKeyClose:b,canOutsideClickClose:b,onClose:t,children:[(0,H.jsx)(v.a7,{children:(0,H.jsxs)(A.Z,{direction:"column",spacing:24,children:[function(){switch(p.step){case"initial":if(!f)return(0,H.jsxs)(A.Z,{direction:"column",spacing:16,children:[(0,H.jsx)("div",{children:"No runs selected for re-execution."}),(0,H.jsx)("div",{children:"The runs you selected may already have finished executing."})]});return(0,H.jsx)(A.Z,{direction:"column",spacing:16,children:(0,H.jsx)("div",{children:r===R.hmq.ALL_STEPS?(0,H.jsxs)("span",{children:["".concat(f," ").concat(1===f?"run":"runs"," will be re-executed "),(0,H.jsx)("strong",{children:"with all steps"}),". Do you wish to continue?"]}):(0,H.jsxs)("span",{children:["".concat(f," ").concat(1===f?"run":"runs"," will be re-executed "),(0,H.jsx)("strong",{children:"from failure"}),". Do you wish to continue?"]})})});case"reexecuting":case"completed":var e=f>0?p.reexecution.completed/f:1;return(0,H.jsxs)(A.Z,{direction:"column",spacing:8,children:[(0,H.jsx)(z.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"reexecuting"===p.step?(0,H.jsx)(M.c,{message:"Re-execution in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===p.step)return null;if("reexecuting"===p.step)return(0,H.jsx)("div",{children:"Please do not close the window or navigate away during re-execution."});var e=p.reexecution.errors,n=Object.keys(e).length,t=p.reexecution.completed-n;return(0,H.jsxs)(A.Z,{direction:"column",spacing:8,children:[t?(0,H.jsxs)(A.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,H.jsx)(j.JO,{name:"check_circle",color:L.w.Green500}),(0,H.jsx)("div",{children:"Successfully requested re-execution for ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,H.jsxs)(A.Z,{direction:"column",spacing:8,children:[(0,H.jsxs)(A.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,H.jsx)(j.JO,{name:"warning",color:L.w.Yellow500}),(0,H.jsx)("div",{children:"Could not request re-execution for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,H.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,H.jsx)("li",{children:(0,H.jsxs)(A.Z,{direction:"row",spacing:8,alignItems:"baseline",children:[(0,H.jsx)(D.fv,{children:n.slice(0,8)}),e[n]?(0,H.jsx)("div",{children:K(e[n])}):null]})},n)}))})]}):null]})}()]})}),(0,H.jsx)(v.cN,{children:function(){switch(p.step){case"initial":return f?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,H.jsx)(x.zx,{intent:"primary",onClick:C,children:"Re-execute ".concat("".concat(f," ").concat(1===f?"run":"runs"))})]}):(0,H.jsx)(x.zx,{intent:"none",onClick:t,children:"OK"});case"reexecuting":return(0,H.jsx)(x.zx,{intent:"primary",disabled:!0,children:"Re-executing ".concat("".concat(f," ").concat(1===f?"run":"runs","..."))});case"completed":return(0,H.jsx)(x.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},V=t(34653),Q=t(80342),X=t(38568),Y=t(52489),$=k.memo((function(e){var n,t=e.run,i=e.onAddTag,r=k.useContext(F.Lw).refetch,l=k.useState("none"),p=(0,c.Z)(l,2),R=p[0],z=p[1],A=k.useContext(b.I).rootServerURI,L=(0,C.k6)(),D=(0,I.m)(),M=(0,u.D)(F.kO,{onCompleted:r}),J=(0,c.Z)(M,1)[0],K=(0,h.t)(ee,{variables:{runId:t.id}}),B=(0,c.Z)(K,2),U=B[0],q=B[1],$=q.called,G=q.loading,ne=q.data,te=function(){z("none")},ie=function(){r()},re="Run"===(null===ne||void 0===ne||null===(n=ne.pipelineRunOrError)||void 0===n?void 0:n.__typename)?null===ne||void 0===ne?void 0:ne.pipelineRunOrError:null,oe=null===re||void 0===re?void 0:re.runConfigYaml,se=(0,O.n)(re),ae=(0,Y.J)((0,a.Z)((0,a.Z)({},t),{},{parentPipelineSnapshotId:null===re||void 0===re?void 0:re.parentPipelineSnapshotId})),ce=V.cv.has(t.status),le=!(!se||!(0,S.E8)(null===se||void 0===se?void 0:se.match,t.pipelineName)),de=!!$&&!G,ue=k.useMemo((function(){return t.hasReExecutePermission?ae?{disabled:ae.disabled,message:ae.tooltip}:de?{disabled:!1}:{disabled:!0}:{disabled:!0,message:N.Qr}}),[t.hasReExecutePermission,ae,de]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(x.zH,{children:[(0,H.jsx)(T.A,{to:"/runs/".concat(t.id),children:"View run"}),(0,H.jsx)(m.J,{content:(0,H.jsxs)(f.v2,{children:[(0,H.jsx)(f.sN,{tagName:"button",text:G?"Loading configuration...":"View configuration...",disabled:!oe,icon:"open_in_new",onClick:function(){return z("config")}}),(0,H.jsx)(f.sN,{tagName:"button",text:"View all tags",icon:"tag",onClick:function(){return z("tags")}}),(0,H.jsx)(f.R,{}),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(g.u,{content:t.hasReExecutePermission?W:Z.U,position:"left",disabled:de&&t.hasReExecutePermission,targetTagName:"div",children:(0,H.jsx)(P.U,{text:"Open in Launchpad...",disabled:!de||!t.hasReExecutePermission,icon:"edit",to:(0,E.$O)({id:t.id,pipelineName:t.pipelineName,repositoryName:null===se||void 0===se?void 0:se.match.repository.name,repositoryLocationName:null===se||void 0===se?void 0:se.match.repositoryLocation.name,isJob:le})})}),(0,H.jsx)(g.u,{content:ue.message||"",position:"left",canShow:ue.disabled,targetTagName:"div",children:(0,H.jsx)(f.sN,{tagName:"button",text:"Re-execute",disabled:ue.disabled,icon:"refresh",onClick:(0,s.Z)(d().mark((function e(){var n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!se||!oe){e.next=5;break}return e.next=3,J({variables:(0,F.kz)({run:(0,a.Z)((0,a.Z)({},t),{},{runConfigYaml:oe}),style:{type:"all"},repositoryLocationName:se.match.repositoryLocation.name,repositoryName:se.match.repository.name})});case 3:i=e.sent,(0,F.lF)(t.pipelineName,null===(n=i.data)||void 0===n?void 0:n.launchPipelineReexecution,L,{behavior:"open"});case 5:case"end":return e.stop()}}),e)})))})}),ce||!t.hasTerminatePermission?null:(0,H.jsx)(f.sN,{tagName:"button",icon:"cancel",text:"Terminate",onClick:function(){return z("terminate")}}),(0,H.jsx)(f.R,{})]}),(0,H.jsx)(f.AL,{text:"Download debug file",icon:"download_for_offline",download:!0,href:"".concat(A,"/download_debug/").concat(t.id)}),t.hasDeletePermission?(0,H.jsx)(f.sN,{tagName:"button",icon:"delete",text:"Delete",intent:"danger",onClick:function(){return z("delete")}}):null]}),position:"bottom-right",onOpening:function(){$||U()},children:(0,H.jsx)(x.zx,{icon:(0,H.jsx)(j.JO,{name:"expand_more"})})})]}),t.hasTerminatePermission?(0,H.jsx)(X.A,{isOpen:"terminate"===R,onClose:te,onComplete:ie,selectedRuns:(0,o.Z)({},t.id,t.canTerminate)}):null,t.hasDeletePermission?(0,H.jsx)(_.N,{isOpen:"delete"===R,onClose:te,onComplete:ie,onTerminateInstead:function(){return z("terminate")},selectedRuns:(0,o.Z)({},t.id,t.canTerminate)}):null,(0,H.jsxs)(v.Vq,{isOpen:"tags"===R,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:te,children:[(0,H.jsx)(v.a7,{children:(0,H.jsx)(Q.Q,{tags:t.tags,mode:le?"default"!==t.mode?t.mode:null:t.mode,onAddTag:i})}),(0,H.jsx)(v.cN,{topBorder:!0,children:(0,H.jsx)(x.zx,{intent:"primary",onClick:te,children:"Close"})})]}),(0,H.jsxs)(v.Vq,{isOpen:"config"===R,title:"Config",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:te,children:[(0,H.jsx)(y.NU,{value:oe||"",options:{lineNumbers:!0,mode:"yaml"}}),(0,H.jsxs)(v.cN,{topBorder:!0,children:[(0,H.jsx)(x.zx,{intent:"none",onClick:function(){D(oe||""),w.L.show({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})},children:"Copy config"}),(0,H.jsx)(x.zx,{intent:"primary",onClick:te,children:"OK"})]})]})]})})),G=k.memo((function(e){var n=e.selected,t=e.clearSelection,i=k.useContext(F.Lw).refetch,r=k.useState("none"),s=(0,c.Z)(r,2),l=s[0],d=s[1],u=k.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),h=k.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),p=k.useMemo((function(){return n.some((function(e){return e.hasReExecutePermission}))}),[n]),g=!u&&!h,v=n.filter((function(e){return!V.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasTerminatePermission})),y=v.map((function(e){return e.id})),C=v.reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},n.id,n.canTerminate))}),{}),b=n.map((function(e){return e.id})),w=n.reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},n.id,n.canTerminate))}),{}),N=n.filter((function(e){return V.hd.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),I=N.reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},n.id,n.id))}),{}),Z=n.filter((function(e){return V.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),T=Z.reduce((function(e,n){return(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},n.id,n.id))}),{}),P=function(){d("none")},S=function(){t(),i()};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(m.J,{disabled:g||0===n.length,content:(0,H.jsxs)(f.v2,{children:[u?(0,H.jsx)(f.sN,{icon:"cancel",text:"Terminate ".concat(y.length," ").concat(1===y.length?"run":"runs"),disabled:0===y.length,onClick:function(){d("terminate")}}):null,h?(0,H.jsx)(f.sN,{icon:"delete",intent:"danger",text:"Delete ".concat(b.length," ").concat(1===b.length?"run":"runs"),disabled:0===b.length,onClick:function(){d("delete")}}):null,p?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(f.sN,{icon:"refresh",text:"Re-execute ".concat(Z.length," ").concat(1===Z.length?"run":"runs"),disabled:0===Z.length,onClick:function(){d("reexecute")}}),(0,H.jsx)(f.sN,{icon:"refresh",text:"Re-execute ".concat(N.length," ").concat(1===N.length?"run":"runs"," from failure"),disabled:0===N.length,onClick:function(){d("reexecute-from-failure")}})]}):null]}),position:"bottom-right",children:(0,H.jsx)(x.zx,{disabled:g||0===n.length,rightIcon:(0,H.jsx)(j.JO,{name:"expand_more"}),intent:"primary",children:"Actions"})}),(0,H.jsx)(X.A,{isOpen:"terminate"===l,onClose:P,onComplete:S,selectedRuns:C}),(0,H.jsx)(_.N,{isOpen:"delete"===l,onClose:P,onComplete:S,onTerminateInstead:function(){return d("terminate")},selectedRuns:w}),(0,H.jsx)(q,{isOpen:"reexecute-from-failure"===l,onClose:P,onComplete:S,selectedRuns:I,reexecutionStrategy:R.hmq.FROM_FAILURE}),(0,H.jsx)(q,{isOpen:"reexecute"===l,onClose:P,onComplete:S,selectedRuns:T,reexecutionStrategy:R.hmq.ALL_STEPS})]})})),W="Launchpad is unavailable because the pipeline is not present in the current repository.",ee=(0,p.Ps)(i||(i=(0,r.Z)(["\n  query PipelineEnvironmentQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        pipelineName\n        parentPipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n  }\n"])))},70249:function(e,n,t){t.d(n,{A:function(){return A},Z:function(){return D}});var i,r=t(99500),o=t(47427),s=t(19065),a=t(95764),c=t(922),l=t(3159),d=t(32030),u=t(89646),h=t(36819),p=t(55113),x=t(50346),m=t(12745),f=t(7838),g=t(325),j=t(74549),v=t(81745),y=t(39061),k=t(82576),C=t(96294),b=t(62e3),w=t(28797),N=t(76336),I=t(37099),R=t(39956),Z=t(25582),T=t(4998),P=t(29256),S=t(37751),O=t(23605),E=t(80342),_=t(55752),z=t(32289),A=function(e){return(0,v.gV)().flagRunsTableFiltering?(0,z.jsx)(O.A,(0,a.Z)({},e)):(0,z.jsx)(L,(0,a.Z)({},e))},L=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,r=e.highlightedIds,a=e.actionBarComponents,c=n.map((function(e){return e.id})),l=(0,k.a)(c),m=(0,s.Z)(l,2),f=m[0].checkedIds,j=m[1],v=j.onToggleFactory,y=j.onToggleAll,C=g.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]),b=(0,N.vl)().options;if(0===n.length){var R=Object.keys(t||{}).length;return(0,z.jsxs)("div",{children:[a?(0,z.jsx)(d.x,{padding:{vertical:8,left:24,right:12},children:a}):null,(0,z.jsx)(d.x,{margin:{vertical:32},children:R?(0,z.jsx)(u.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,z.jsx)(u.t,{icon:"run",title:"No runs found",description:(0,z.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,z.jsx)("div",{children:"You have not launched any runs yet."}),(0,z.jsxs)(d.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,z.jsx)(w.A,{icon:(0,z.jsx)(h.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,z.jsx)("span",{children:"or"}),(0,z.jsx)(w.A,{icon:(0,z.jsx)(h.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})]})}var Z,T=!1,S=(0,o.Z)(n);try{for(S.s();!(Z=S.n()).done;){var O=Z.value,E=O.repositoryOrigin;if(E){var _=(0,I.kQ)(E.repositoryName,E.repositoryLocationName),A=(0,N.qz)(b,_);if(!A||!(0,N.E8)(A,O.pipelineName)){T=!0;break}}}}catch(D){S.e(D)}finally{S.f()}var L=n.filter((function(e){return f.has(e.id)}));return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(d.x,{flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},children:[a,(0,z.jsx)("div",{style:{flex:1}}),(0,z.jsx)(P.m,{selected:L,clearSelection:function(){return y(!1)}})]}),(0,z.jsxs)(p.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:C?(0,z.jsx)(x.X,{indeterminate:f.size>0&&f.size!==n.length,checked:f.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&y(e.target.checked)}}):null}),(0,z.jsx)("th",{style:{width:120},children:"Status"}),(0,z.jsx)("th",{style:{width:90},children:"Run ID"}),(0,z.jsx)("th",{children:T?"Job / Pipeline":"Job"}),(0,z.jsx)("th",{style:{width:90},children:"Snapshot ID"}),(0,z.jsx)("th",{style:{width:190},children:"Timing"}),e.additionalColumnHeaders,(0,z.jsx)("th",{style:{width:52}})]})}),(0,z.jsx)("tbody",{children:n.map((function(n){var t;return(0,z.jsx)(M,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:f.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:v(n.id),isHighlighted:r&&r.includes(n.id)},n.id)}))})]})]})},D=(0,l.Ps)(i||(i=(0,r.Z)(["\n  fragment RunTableRunFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),_.$X),M=function(e){var n=e.run,t=e.canTerminateOrDelete,i=e.onAddTag,r=e.checked,o=e.onToggleChecked,s=e.additionalColumns,a=e.isHighlighted,c=n.pipelineName,l=(0,R.r)(n),u=g.useMemo((function(){if(l){var e=l.match.repository.pipelines.find((function(e){return e.name===c}));return!(null===e||void 0===e||!e.isJob)}return!1}),[l,c]);return(0,z.jsxs)(F,{highlighted:!!a,children:[(0,z.jsx)("td",{children:t&&o?(0,z.jsx)(x.X,{checked:!!r,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");o&&o({checked:n,shiftKey:t})}}}):null}),(0,z.jsx)("td",{children:(0,z.jsx)(S.M9,{status:n.status,runId:n.id})}),(0,z.jsx)("td",{children:(0,z.jsx)(j.rU,{to:"/runs/".concat(n.id),children:(0,z.jsx)(m.fv,{children:(0,_.EI)(n)})})}),(0,z.jsx)("td",{children:(0,z.jsxs)(d.x,{flex:{direction:"column",gap:5},children:[(0,y.pv)(n.pipelineName)?(0,z.jsx)(T.m,{assetKeys:(0,_.Bo)(n)}):(0,z.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,z.jsx)(b.h,{isJob:u,showIcon:!0,pipelineName:n.pipelineName,pipelineHrefContext:"no-link"}),(0,z.jsx)(j.rU,{to:l?(0,Z.jT)({repoName:l.match.repository.name,repoLocation:l.match.repositoryLocation.name,pipelineName:n.pipelineName,isJob:u}):(0,Z.r4)(n.pipelineName),target:"_blank",children:(0,z.jsx)(h.JO,{name:"open_in_new",color:f.w.Blue500})})]}),(0,z.jsx)(E.Q,{tags:n.tags,mode:u?"default"!==n.mode?n.mode:null:n.mode,onAddTag:i})]})}),(0,z.jsx)("td",{children:(0,z.jsx)(C.J2,{snapshotId:n.pipelineSnapshotId||"",pipelineName:n.pipelineName,size:"normal"})}),(0,z.jsxs)("td",{children:[(0,z.jsx)(_.Zr,{run:n}),(0,z.jsx)(_.Tw,{run:n})]}),s,(0,z.jsx)("td",{children:(0,z.jsx)(P.K,{run:n})})]})},F=c.ZP.tr.withConfig({displayName:"RunTable__Row",componentId:"sc-18h8t3i-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}))},23605:function(e,n,t){t.d(n,{Z:function(){return A},A:function(){return z}});var i=t(99500),r=t(19065),o=t(922),s=t(3159),a=t(32030),c=t(89646),l=t(36819),d=t(55113),u=t(50346),h=t(12745),p=t(54268),x=t(7838),m=t(325),f=t(74549),g=t(39061),j=t(82576),v=t(96294),y=t(62e3),k=t(28797),C=t(39956),b=t(25582),w=t(4998),N=t(29256),I=t(28434),R=t(28064),Z=t(45302),T=t(32289);function P(e){var n,t=e.run.tags||[],i=t.some((function(e){return e.key===R.H.ParentRunId})),r=t.find((function(e){return e.key===R.H.Backfill})),o=t.find((function(e){return e.key===R.H.ScheduleName})),s=t.find((function(e){return e.key===R.H.SensorName})),c=t.find((function(e){return e.key===R.H.User})),l=t.find((function(e){return e.key===R.H.Automaterialize||e.key===R.H.CreatedBy&&"auto_materialize"===e.value})),d=t.find((function(e){return e.key===R.H.CreatedBy})),u=(0,I.C)().UserDisplay;if(i||c)n=c?(0,T.jsx)(u,{email:c.value}):(0,T.jsx)(p.V,{icon:"account_circle",children:"Launchpad"});else if(r){var h,x=null!==(h=e.run.assetSelection)&&void 0!==h&&h.length?"/overview/backfills/".concat(r.value):(0,Z.it)([{token:"tag",value:"dagster/backfill=".concat(r.value)}]);n=(0,T.jsxs)("div",{children:["Backfill: ",(0,T.jsx)(f.rU,{to:x,children:r.value})]},"backfill")}else o?n=(0,T.jsx)(p.V,{icon:"schedule",children:o.value},"schedule"):s?n=(0,T.jsx)(p.V,{icon:"sensors",children:s.value},"sensor"):l&&(n=(0,T.jsx)(p.V,{icon:"auto_materialize_policy",children:"Auto-materialize policy"},"automaterialize"));return(0,T.jsx)(a.x,{flex:{direction:"column",alignItems:"flex-start"},children:n||(null===d||void 0===d?void 0:d.value)})}var S,O=t(37751),E=t(80342),_=t(55752),z=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,o=e.highlightedIds,s=e.actionBarComponents,h=e.belowActionBarComponents,p=e.hideCreatedBy,x=n.map((function(e){return e.id})),f=(0,j.a)(x),g=(0,r.Z)(f,2),v=g[0].checkedIds,y=g[1],C=y.onToggleFactory,b=y.onToggleAll,w=m.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]);var I=n.filter((function(e){return v.has(e.id)}));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(M,{top:(0,T.jsxs)(T.Fragment,{children:[s,(0,T.jsx)(N.m,{selected:I,clearSelection:function(){return b(!1)}})]}),bottom:h}),function(){if(0===n.length){var r=Object.keys(t||{}).length;return(0,T.jsx)("div",{children:(0,T.jsx)(a.x,{margin:{vertical:32},children:r?(0,T.jsx)(c.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,T.jsx)(c.t,{icon:"run",title:"No runs found",description:(0,T.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,T.jsx)("div",{children:"You have not launched any runs yet."}),(0,T.jsxs)(a.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,T.jsx)(k.A,{icon:(0,T.jsx)(l.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,T.jsx)("span",{children:"or"}),(0,T.jsx)(k.A,{icon:(0,T.jsx)(l.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})})}return(0,T.jsxs)(d.i,{children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:w?(0,T.jsx)(u.X,{indeterminate:v.size>0&&v.size!==n.length,checked:v.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&b(e.target.checked)}}):null}),(0,T.jsx)("th",{style:{width:90},children:"Run ID"}),(0,T.jsx)("th",{style:{width:180},children:"Created date"}),(0,T.jsx)("th",{children:"Target"}),p?null:(0,T.jsx)("th",{style:{width:160},children:"Created by"}),(0,T.jsx)("th",{style:{width:120},children:"Status"}),(0,T.jsx)("th",{style:{width:190},children:"Duration"}),e.additionalColumnHeaders,(0,T.jsx)("th",{style:{width:52}})]})}),(0,T.jsx)("tbody",{children:n.map((function(n){var t;return(0,T.jsx)(L,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:v.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:C(n.id),isHighlighted:o&&o.includes(n.id)},n.id)}))})]})}()]})},A=(0,s.Ps)(S||(S=(0,i.Z)(["\n  fragment RunTableRunNewFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),_.$X),L=function(e){var n,t=e.run,i=e.canTerminateOrDelete,r=e.onAddTag,o=e.checked,s=e.onToggleChecked,c=e.additionalColumns,d=e.isHighlighted,j=e.hideCreatedBy,k=t.pipelineName,I=(0,C.r)(t),Z=m.useMemo((function(){if(I){var e=I.match.repository.pipelines.find((function(e){return e.name===k}));return!(null===e||void 0===e||!e.isJob)}return!1}),[I,k]),S=t.tags.some((function(e){return e.key===R.H.ParentRunId}));return(0,T.jsxs)(D,{highlighted:!!d,children:[(0,T.jsx)("td",{children:i&&s?(0,T.jsx)(u.X,{checked:!!o,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");s&&s({checked:n,shiftKey:t})}}}):null}),(0,T.jsx)("td",{children:(0,T.jsx)(f.rU,{to:"/runs/".concat(t.id),children:(0,T.jsx)(h.fv,{children:(0,_.EI)(t)})})}),(0,T.jsx)("td",{children:(0,T.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,T.jsx)(_.Zr,{run:t}),S?(0,T.jsx)("div",{children:(0,T.jsx)(p.V,{icon:"cached",children:"Re-execution"})}):null]})}),(0,T.jsx)("td",{children:(0,T.jsxs)(a.x,{flex:{direction:"column",gap:5},children:[(0,g.pv)(t.pipelineName)?(0,T.jsx)(w.m,{assetKeys:(0,_.Bo)(t)}):(0,T.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,T.jsx)(y.h,{isJob:Z,showIcon:!0,pipelineName:t.pipelineName,pipelineHrefContext:"no-link"}),(0,T.jsx)(f.rU,{to:I?(0,b.jT)({repoName:I.match.repository.name,repoLocation:I.match.repositoryLocation.name,pipelineName:t.pipelineName,isJob:Z}):(0,b.r4)(t.pipelineName),target:"_blank",children:(0,T.jsx)(l.JO,{name:"open_in_new",color:x.w.Blue500})})]}),(0,T.jsx)(E.Q,{tags:[t.pipelineSnapshotId?{key:R.H.SnapshotID,value:(null===(n=t.pipelineSnapshotId)||void 0===n?void 0:n.slice(0,8))||"",link:t.pipelineSnapshotId?(0,v.sS)(t.pipelineName,t.pipelineSnapshotId):void 0}:null,t.tags.find((function(e){return e.key===R.H.Partition}))].filter((function(e){return e})),mode:Z?"default"!==t.mode?t.mode:null:t.mode,onAddTag:r})]})}),j?null:(0,T.jsx)("td",{children:(0,T.jsx)(P,{run:t})}),(0,T.jsx)("td",{children:(0,T.jsx)(O.M9,{status:t.status,runId:t.id})}),(0,T.jsx)("td",{children:(0,T.jsx)(_.Tw,{run:t})}),c,(0,T.jsx)("td",{children:(0,T.jsx)(N.K,{run:t,onAddTag:r})})]})},D=o.ZP.tr.withConfig({displayName:"RunTableNew__Row",componentId:"sc-13t9dsz-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}));function M(e){var n=e.top,t=e.bottom;return(0,T.jsxs)(a.x,{flex:{direction:"column"},padding:{vertical:12},children:[(0,T.jsx)(a.x,{flex:{alignItems:"center",gap:12},padding:{left:24,right:24},children:n}),t?(0,T.jsx)(a.x,{margin:{top:12},padding:{left:24,right:12,top:8},border:{side:"top",width:1,color:x.w.KeylineGray},flex:{gap:8},children:t}):null]})}},77892:function(e,n,t){t.d(n,{l:function(){return l}});var i=t(59019),r=t(95764),o=t(19065),s=t(73701),a=t(325),c=t(44198);function l(e){var n=a.useState((function(){return[]})),t=(0,o.Z)(n,2),l=t[0],d=t[1],u=(0,c.q)({queryKey:"cursor"}),h=(0,o.Z)(u,2),p=h[0],x=h[1],m=(0,r.Z)((0,r.Z)({},e.variables),{},{cursor:p,limit:e.pageSize+1}),f=(0,s.a)(e.query,{partialRefetch:!0,skip:e.skip,variables:m,notifyOnNetworkStatusChange:!0}),g=e.getResultArray(f.data),j={hasPrevCursor:!!p,hasNextCursor:g.length===e.pageSize+1,popCursor:function(){var e=(0,i.Z)(l);x(e.pop()),d(e)},advanceCursor:function(){p&&d((function(e){return[].concat((0,i.Z)(e),[p])}));var n=f.data&&e.nextCursorForResult(f.data);n&&x(n)},reset:function(){d([]),x(void 0)}};return{queryResult:f,paginationProps:j}}},90933:function(e,n,t){t.d(n,{U:function(){return p}});var i=t(95764),r=t(81034),o=t(922),s=t(8412),a=t(32030),c=t(36819),l=t(7838),d=(t(325),t(74549)),u=t(32289),h=["icon","intent","text","disabled"],p=function(e){var n=e.icon,t=e.intent,o=e.text,c=e.disabled,l=(0,r.Z)(e,h);return c?(0,u.jsx)(s.sN,{disabled:!0,icon:n,intent:t,text:o}):(0,u.jsx)(x,(0,i.Z)((0,i.Z)({},l),{},{children:(0,u.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.cR)(n,t),(0,u.jsx)("div",{children:o})]})}))},x=(0,o.ZP)(d.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],c.a1,c.a1,l.w.Gray900,l.w.Gray100)}}]);
//# sourceMappingURL=914.232ca158.chunk.js.map