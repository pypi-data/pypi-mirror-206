(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4202],{94090:function(e,t,n){"use strict";n.d(t,{Hk:function(){return M},KF:function(){return S},Qd:function(){return F},UQ:function(){return C},XE:function(){return A}});var r=n(10894),i=n(81439),a=n(37496),s=n(15031),o=n(26450),l=n(67294),c=n(40242),u=n(97375);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=["onChange","defaultIndex","index","allowMultiple","allowToggle"],m=["isDisabled","isFocusable","id"],v=(0,c.n)(),y=v[0],x=(v[1],v[2]),b=v[3];function g(e){var t=e.onChange,n=e.defaultIndex,r=e.index,i=e.allowMultiple,a=e.allowToggle,o=f(e,p);!function(e){var t=e.index||e.defaultIndex,n=!(0,s.o8)(t)&&!(0,s.kJ)(t)&&e.allowMultiple;(0,s.ZK)({condition:!!n,message:"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: "+typeof t+","})}(e),function(e){(0,s.ZK)({condition:!(!e.allowMultiple||!e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}(e);var c=x(),d=(0,l.useState)(-1),m=d[0],v=d[1];(0,u.zq)((function(){v(-1)}));var y=(0,u.Tx)({value:r,defaultValue:function(){return i?null!=n?n:[]:null!=n?n:-1},onChange:t}),b=y[0],g=y[1];return{index:b,setIndex:g,htmlProps:o,getAccordionItemProps:function(e){var t=!1;null!==e&&(t=(0,s.kJ)(b)?b.includes(e):b===e);return{isOpen:t,onChange:function(t){if(null!==e)if(i&&(0,s.kJ)(b)){var n=t?(0,s.jX)(b,e):(0,s.cl)(b,e);g(n)}else t?g(e):a&&g(-1)}}},focusedIndex:m,setFocusedIndex:v,descendants:c}}var h=(0,o.kr)({name:"AccordionContext",errorMessage:"useAccordionContext: `context` is undefined. Seems you forgot to wrap the accordion components in `<Accordion />`"}),_=h[0],j=h[1];function k(e){var t=e.isDisabled,n=e.isFocusable,r=e.id,i=f(e,m),a=j(),c=a.getAccordionItemProps,p=a.setFocusedIndex,v=(0,l.useRef)(null),y=(0,u.ZS)(r,"accordion-button","accordion-panel"),x=y[0],g=y[1];!function(e){(0,s.ZK)({condition:!(!e.isFocusable||e.isDisabled),message:"Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    "})}(e);var h=b({disabled:t&&!n}),_=h.register,k=h.index,w=h.descendants,E=c(-1===k?null:k),O=E.isOpen,C=E.onChange;!function(e){(0,s.ZK)({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}({isOpen:O,isDisabled:t});var T=(0,l.useCallback)((function(){null==C||C(!O),p(k)}),[k,p,O,C]),P=(0,l.useCallback)((function(e){var t={ArrowDown:function(){var e=w.nextEnabled(k);e&&(0,s.T_)(e.node)},ArrowUp:function(){var e=w.prevEnabled(k);e&&(0,s.T_)(e.node)},Home:function(){var e=w.firstEnabled();e&&(0,s.T_)(e.node)},End:function(){var e=w.lastEnabled();e&&(0,s.T_)(e.node)}}[(0,s.uh)(e)];t&&(e.preventDefault(),t(e))}),[w,k]),D=(0,l.useCallback)((function(){p(k)}),[p,k]),F=(0,l.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),d({},e,{type:"button",ref:(0,o.lq)(_,v,n),id:x,disabled:!!t,"aria-expanded":!!O,"aria-controls":g,onClick:(0,s.v0)(e.onClick,T),onFocus:(0,s.v0)(e.onFocus,D),onKeyDown:(0,s.v0)(e.onKeyDown,P)})}),[x,t,O,T,D,P,g,_]),S=(0,l.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),d({},e,{ref:t,role:"region",id:g,"aria-labelledby":x,hidden:!O})}),[x,O,g]);return{isOpen:O,isDisabled:t,isFocusable:n,onOpen:function(){null==C||C(!0)},onClose:function(){null==C||C(!1)},getButtonProps:F,getPanelProps:S,htmlProps:i}}var w=["children","reduceMotion"],E=["htmlProps","descendants"],O=["htmlProps"],C=(0,i.Gp)((function(e,t){var n=e.children,r=e.reduceMotion,a=f(e,w),o=(0,i.jC)("Accordion",a),c=g((0,i.Lr)(a)),u=c.htmlProps,p=c.descendants,m=f(c,E),v=l.useMemo((function(){return d({},m,{reduceMotion:!!r})}),[m,r]);return l.createElement(y,{value:p},l.createElement(_,{value:v},l.createElement(i.Fo,{value:o},l.createElement(i.m$.div,d({ref:t},u,{className:(0,s.cx)("chakra-accordion",a.className),__css:o.root}),n))))}));s.Ts&&(C.displayName="Accordion");var T=(0,o.kr)({name:"AccordionItemContext",errorMessage:"useAccordionItemContext: `context` is undefined. Seems you forgot to wrap the accordion item parts in `<AccordionItem />` "}),P=T[0],D=T[1],F=(0,i.Gp)((function(e,t){var n=e.children,r=e.className,a=k(e),o=a.htmlProps,c=f(a,O),u=d({},(0,i.yK)().container,{overflowAnchor:"none"}),p=l.useMemo((function(){return c}),[c]);return l.createElement(P,{value:p},l.createElement(i.m$.div,d({ref:t},o,{className:(0,s.cx)("chakra-accordion__item",r),__css:u}),(0,s.Pu)(n,{isExpanded:!!c.isOpen,isDisabled:!!c.isDisabled})))}));s.Ts&&(F.displayName="AccordionItem");var S=(0,i.Gp)((function(e,t){var n=(0,D().getButtonProps)(e,t),r=d({display:"flex",alignItems:"center",width:"100%",outline:0},(0,i.yK)().button);return l.createElement(i.m$.button,d({},n,{className:(0,s.cx)("chakra-accordion__button",e.className),__css:r}))}));s.Ts&&(S.displayName="AccordionButton");var M=(0,i.Gp)((function(e,t){var n=j().reduceMotion,r=D(),o=r.getPanelProps,c=r.isOpen,u=o(e,t),f=(0,s.cx)("chakra-accordion__panel",e.className),p=(0,i.yK)();n||delete u.hidden;var m=l.createElement(i.m$.div,d({},u,{__css:p.panel,className:f}));return n?m:l.createElement(a.UO,{in:c},m)}));s.Ts&&(M.displayName="AccordionPanel");var A=function(e){var t=D(),n=t.isOpen,a=t.isDisabled,o=j().reduceMotion,c=(0,s.cx)("chakra-accordion__icon",e.className),u=d({opacity:a?.4:1,transform:n?"rotate(-180deg)":void 0,transition:o?void 0:"transform 0.2s",transformOrigin:"center"},(0,i.yK)().icon);return l.createElement(r.JO,d({viewBox:"0 0 24 24","aria-hidden":!0,className:c,__css:u},e),l.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};s.Ts&&(A.displayName="AccordionIcon")},64656:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=[{label:"Yes",value:"true"},{label:"No",value:"false"}]},77046:function(e,t,n){"use strict";var r=n(59499),i=n(4730),a=n(96356),s=n(85893),o=["name","onClose"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,o),l=c({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,s.jsxs)(a.Vp,c(c({display:"flex",justifyContent:"space-between"},l),{},{children:[(0,s.jsx)(a.Sn,{children:t}),(0,s.jsx)(a.SD,{onClick:n,color:"white"})]})):(0,s.jsx)(a.Vp,c(c({},l),{},{children:t}))}},45009:function(e,t,n){"use strict";n.d(t,{C:function(){return r},P:function(){return i}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:e(t,i),is_default:null!==(r=n.is_default)&&void 0!==r&&r}}))},i=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},10272:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var r=n(68527),i=n(18343),a=n(15193),s=n(97142),o=n(52313),l=n(50029),c=n(16835),u=n(59499),d=n(87794),f=n.n(d),p=n(67294),m=n(67866),v=n(24524),y=n(53065),x=n(64656),b=n(96016),g=n(65698),h=n(29482),_=n(44116),j=n(45009),k=n(58183),w=n(85893);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e,t){var n,r,i,a,s;return{fides_key:null!==(n=e.fides_key)&&void 0!==n?n:"",name:null!==(r=e.name)&&void 0!==r?r:"",description:null!==(i=e.description)&&void 0!==i?i:"",parent_key:null!==(a=e.parent_key)&&void 0!==a?a:"",is_default:null!==(s=e.is_default)&&void 0!==s&&s,customFieldValues:t}},T=function(e,t){var n=""===e.fides_key,r=O({},t);if(n){var i=(0,j.P)(t.fides_key);r.parent_key=""===i?void 0:i}else r.parent_key=""===e.parent_key?void 0:e.parent_key,r.fides_key=e.fides_key;return delete r.customFieldValues,r},P=n(96356),D=n(97375),F=n(28609),S=n(49609),M=n(94090);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.nodes,n=e.focusedKey,i=e.renderHover,a=e.renderTag,s=(0,p.useState)(void 0),o=s[0],l=s[1],c=function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=(null===o||void 0===o?void 0:o.value)===t.value,u=n===t.value,d={borderBottom:"1px solid",borderColor:"gray.200",display:"flex",justifyContent:"space-between",alignItems:"center",pl:3*s,_hover:{bg:"gray.50"},onMouseEnter:function(){l(t)},onMouseLeave:function(){l(void 0)}},f=c&&i?i(t):null;return 0===t.children.length?(0,w.jsxs)(r.xu,Z(Z({py:2},d),{},{"data-testid":"item-".concat(t.label),children:[(0,w.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,w.jsx)(r.xv,{pl:5,color:u?"complimentary.500":void 0,mr:2,children:t.label}),a?a(t):null]}),f]})):(0,w.jsxs)(M.Qd,{p:0,border:"none","data-testid":"accordion-item-".concat(t.label),children:[(0,w.jsxs)(r.xu,Z(Z({},d),{},{children:[(0,w.jsxs)(M.KF,{_expanded:{color:"complimentary.500"},_hover:{bg:"gray.50"},pl:0,color:u?"complimentary.500":void 0,children:[(0,w.jsx)(M.XE,{}),(0,w.jsx)(r.xv,{mr:2,children:t.label}),a?a(t):null]}),f]})),(0,w.jsx)(M.Hk,{p:0,children:t.children.map((function(t){return(0,w.jsx)(p.Fragment,{children:e(t,s+1)},t.value)}))})]})};return(0,w.jsx)(r.xu,{boxSizing:"border-box",children:(0,w.jsx)(M.UQ,{allowMultiple:!0,children:t.map((function(e){return(0,w.jsx)(r.xu,{children:c(e)},e.value)}))})})},K=n(58144),z=n(10846),N=n(26595),V=function(e){var t=e.node,n=e.onEdit,r=e.onDelete,i=!t.is_default;return(0,w.jsxs)(a.hE,{size:"xs",isAttached:!0,variant:"outline","data-testid":"action-btns",mr:"2",children:[(0,w.jsx)(a.zx,{"data-testid":"edit-btn",onClick:function(){return n(t)},children:"Edit"}),i?(0,w.jsx)(a.zx,{"data-testid":"delete-btn",onClick:function(){return r(t)},children:"Delete"}):null]})},L=n(79762),U=n(4612),G=n(82175),X=n(74231),B=n(77046),H=function(e){var t=e.labels,n=e.onCancel,i=e.onSubmit,s=e.renderExtraFormFields,o=e.initialValues,c=(0,F.pm)(),u=(0,p.useState)(null),d=u[0],m=u[1],v=X.Ry().shape({fides_key:X.Z_().required().label(t.fides_key)}),y=""===o.fides_key,x=function(e){var t=(0,g.nU)(e);m(t.message)},h=function(){var e=(0,l.Z)(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),e.next=3,i(o,t);case 3:r=e.sent,(0,g.D4)(r)?x(r.error):(c((0,z.t5)("Taxonomy successfully ".concat(y?"created":"updated"))),y&&n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsxs)(r.Kq,{pl:6,spacing:6,"data-testid":"".concat(y?"create":"edit","-taxonomy-form"),children:[(0,w.jsxs)(r.X6,{size:"md",textTransform:"capitalize","data-testid":"form-heading",children:[y?"Create":"Modify"," ",t.fides_key]}),(0,w.jsx)(G.J9,{initialValues:o,onSubmit:h,validationSchema:v,enableReinitialize:!0,children:function(e){var i=e.dirty,l=e.values;return(0,w.jsxs)(G.l0,{children:[(0,w.jsxs)(r.Kq,{mb:6,children:[y?(0,w.jsx)(b.j0,{name:"fides_key",label:t.fides_key}):(0,w.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,w.jsx)(L.lX,{children:t.fides_key}),(0,w.jsx)(r.xu,{children:(0,w.jsx)(B.Z,{name:o.fides_key})})]}),(0,w.jsx)(b.j0,{name:"name",label:t.name}),(0,w.jsx)(b.Ks,{name:"description",label:t.description}),t.parent_key&&(y?(0,w.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,w.jsx)(L.lX,{children:t.parent_key}),(0,w.jsx)(r.xu,{mr:"2",children:(0,w.jsx)(U.II,{"data-testid":"input-parent_key",disabled:!0,value:(0,j.P)(l.fides_key),size:"sm"})})]}):(0,w.jsx)(b.j0,{name:"parent_key",label:t.parent_key,disabled:!y})),s?s(l):null]}),d?(0,w.jsx)(r.xv,{color:"red",mb:2,"data-testid":"taxonomy-form-error",children:d}):null,(0,w.jsxs)(a.hE,{size:"sm",children:[(0,w.jsx)(a.zx,{"data-testid":"cancel-btn",variant:"outline",onClick:n,children:"Cancel"}),(0,w.jsx)(a.zx,{"data-testid":"submit-btn",variant:"primary",type:"submit",disabled:!y&&!i,children:y?"Create entity":"Update entity"})]})]})}})]})},R=function(e){var t=e.node;return t.is_default?null:(0,w.jsx)(P.Vp,{backgroundColor:"gray.500",color:"white",size:"sm",height:"fit-content","data-testid":"custom-tag-".concat(t.label),children:"Custom"})},q={fides_key:"",parent_key:"",name:"",description:""},J=function(e){var t=e.useTaxonomy,n=(0,s.T)(),i=t(),a=i.isLoading,o=i.data,c=i.labels,u=i.entityToEdit,d=i.setEntityToEdit,m=i.handleCreate,v=i.handleEdit,y=i.handleDelete,x=i.renderExtraFormFields,b=i.transformEntityToInitialValues,h=(0,p.useMemo)((function(){return o?(0,j.C)(o):null}),[o]),_=(0,p.useState)(null),E=_[0],O=_[1],C=(0,s.C)(k.yK);(0,p.useEffect)((function(){C&&d(null)}),[C,d]);var T=function(){n((0,k.Gz)(!1))},P=(0,D.qY)(),M=P.isOpen,A=P.onOpen,Z=P.onClose,L=(0,F.pm)();if(a)return(0,w.jsx)(r.M5,{children:(0,w.jsx)(S.$,{})});if(!h)return(0,w.jsx)(r.xv,{children:"Could not find data."});var U=c.fides_key.toLocaleLowerCase(),G=function(e){var t;C&&T();var n=null!==(t=null===o||void 0===o?void 0:o.find((function(t){return t.fides_key===e.value})))&&void 0!==t?t:null;d(n)},X=function(e){O(e),A()},B=function(){var e=(0,l.Z)(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=7;break}return e.next=3,y(E.value);case 3:t=e.sent,(0,N.isErrorResult)(t)?L((0,z.Vo)((0,g.e$)(t.error))):L((0,z.t5)("Successfully deleted ".concat(U))),Z(),d(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(r.MI,{columns:2,spacing:2,children:[(0,w.jsx)(I,{nodes:h,focusedKey:null===u||void 0===u?void 0:u.fides_key,renderHover:function(e){return(0,w.jsx)(V,{onDelete:X,onEdit:G,node:e})},renderTag:function(e){return(0,w.jsx)(R,{node:e})}}),u?(0,w.jsx)(H,{labels:c,onCancel:function(){return d(null)},onSubmit:v,renderExtraFormFields:x,initialValues:b(u)}):null,C?(0,w.jsx)(H,{labels:c,onCancel:T,onSubmit:m,renderExtraFormFields:x,initialValues:b(q)}):null]}),E?(0,w.jsx)(K.Z,{isOpen:M,onClose:Z,onConfirm:B,title:"Delete ".concat(U),message:(0,w.jsxs)(r.Kq,{children:[(0,w.jsxs)(r.xv,{children:["You are about to permanently delete the ",U," ",(0,w.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:E.value})," ","from your taxonomy. Are you sure you would like to continue?"]}),E.children.length?(0,w.jsxs)(r.xv,{color:"red","data-testid":"delete-children-warning",children:["Deleting"," ",(0,w.jsx)(r.xv,{as:"span",fontWeight:"bold",children:E.value})," ","will also delete all of its children."]}):null]})}):null]})},$=[{label:"Data Categories",content:(0,w.jsx)(J,{useTaxonomy:function(){var e=y.P6.DATA_CATEGORY,t=(0,p.useState)(null),n=t[0],r=t[1],i=(0,k.MO)(),a=i.data,s=i.isLoading,o=(0,k.Ti)(),u=(0,c.Z)(o,1)[0],d=(0,k.jU)(),x=(0,c.Z)(d,1)[0],b=(0,k.K9)(),g=(0,c.Z)(b,1)[0],h=(0,v.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),_=function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T(t,n),e.next=3,u(r);case 3:if(i=e.sent,!h.isEnabled){e.next=7;break}return e.next=7,h.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=T(t,n),i=x(r),!h.isEnabled){e.next=5;break}return e.next=5,h.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:a,isLoading:s,labels:{fides_key:"Data category",name:"Category name",description:"Category description",parent_key:"Parent category"},resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:_,handleEdit:j,handleDelete:g,renderExtraFormFields:function(t){return(0,w.jsx)(m.uc,{resourceFidesKey:t.fides_key,resourceType:e})},transformEntityToInitialValues:function(e){return C(e,h.customFieldValues)}}}})},{label:"Data Uses",content:(0,w.jsx)(J,{useTaxonomy:function(){var e=y.P6.DATA_USE,t=(0,p.useState)(null),n=t[0],r=t[1],i=(0,_.fd)(),a=i.data,s=i.isLoading,o={fides_key:"Data use",name:"Data use name",description:"Data use description",parent_key:"Parent data use",legal_basis:"Legal basis",special_category:"Special category",recipient:"Recipient",legitimate_interest:"Legitimate interest",legitimate_interest_impact_assessment:"Legitimate interest impact assessment"},u=(0,_.Ql)(),d=(0,c.Z)(u,1)[0],h=(0,_.LG)(),j=(0,c.Z)(h,1)[0],k=(0,_.gu)(),E=(0,c.Z)(k,1)[0],P=function(e){var t,n,r;return O(O({},e),{},{legitimate_interest_impact_assessment:""===e.legitimate_interest_impact_assessment?void 0:e.legitimate_interest_impact_assessment,legitimate_interest:!("true"!==(null===(t=e.legitimate_interest)||void 0===t?void 0:t.toString())),legal_basis:""===(null===(n=e.legal_basis)||void 0===n?void 0:n.toString())?void 0:e.legal_basis,special_category:""===(null===(r=e.special_category)||void 0===r?void 0:r.toString())?void 0:e.special_category})},D=(0,v.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),F=function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(T(t,n)),e.next=3,d(r);case 3:if(i=e.sent,!D.isEnabled){e.next=7;break}return e.next=7,D.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(T(t,n)),i=j(r),!D.isEnabled){e.next=5;break}return e.next=5,D.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=E,A=(0,g.MM)(y.cc),Z=(0,g.MM)(y.pj);return{data:a,isLoading:s,labels:o,resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:F,handleEdit:S,handleDelete:M,renderExtraFormFields:function(t){var n;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b.AP,{name:"legal_basis",label:o.legal_basis,options:A,isClearable:!0}),(0,w.jsx)(b.AP,{name:"special_category",label:o.special_category,options:Z,isClearable:!0}),(0,w.jsx)(b.VT,{name:"recipients",label:o.recipient,options:[],size:"sm",disableMenu:!0,isMulti:!0}),(0,w.jsx)(b.xt,{name:"legitimate_interest",label:o.legitimate_interest,options:x.H}),"true"===(null===(n=t.legitimate_interest)||void 0===n?void 0:n.toString())?(0,w.jsx)(b.j0,{name:"legitimate_interest_impact_assessment",label:o.legitimate_interest_impact_assessment}):null,(0,w.jsx)(m.uc,{resourceFidesKey:t.fides_key,resourceType:e})]})},transformEntityToInitialValues:function(e){var t,n;return O(O({},C(e,D.customFieldValues)),{},{legal_basis:e.legal_basis,special_category:e.special_category,recipients:null!==(t=e.recipients)&&void 0!==t?t:[],legitimate_interest:null==e.legitimate_interest?"false":e.legitimate_interest.toString(),legitimate_interest_impact_assessment:null!==(n=e.legitimate_interest_impact_assessment)&&void 0!==n?n:""})}}}})},{label:"Data Subjects",content:(0,w.jsx)(J,{useTaxonomy:function(){var e=y.P6.DATA_SUBJECT,t=(0,p.useState)(null),n=t[0],r=t[1],i=(0,h.te)(),a=i.data,s=i.isLoading,o={fides_key:"Data subject",name:"Data subject name",description:"Data subject description",rights:"Rights",strategy:"Strategy",automatic_decisions:"Automatic decisions or profiling"},u=(0,h.wG)(),d=(0,c.Z)(u,1)[0],_=(0,h.h8)(),j=(0,c.Z)(_,1)[0],k=(0,h.Kv)(),E=(0,c.Z)(k,1)[0],P=function(e){var t,n=O(O({},e),{},{rights:e.rights.length?{values:e.rights,strategy:e.strategy}:void 0,automatic_decisions_or_profiling:!("true"!==(null===(t=e.automated_decisions_or_profiling)||void 0===t?void 0:t.toString()))});return delete n.strategy,n},D=(0,v.m)({resourceFidesKey:null===n||void 0===n?void 0:n.fides_key,resourceType:e}),F=function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(T(t,n)),e.next=3,d(r);case 3:if(i=e.sent,!D.isEnabled){e.next=7;break}return e.next=7,D.upsertCustomFields(n);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=(0,l.Z)(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(T(t,n)),i=j(r),!D.isEnabled){e.next=5;break}return e.next=5,D.upsertCustomFields(n);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{data:a,isLoading:s,labels:o,resourceType:e,entityToEdit:n,setEntityToEdit:r,handleCreate:F,handleEdit:S,handleDelete:E,renderExtraFormFields:function(t){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b.AP,{name:"rights",label:o.rights,options:(0,g.MM)(y.ts),isMulti:!0}),t.rights&&t.rights.length?(0,w.jsx)(b.AP,{name:"strategy",label:o.strategy,options:(0,g.MM)(y.jX)}):null,(0,w.jsx)(b.xt,{name:"automatic_decisions_or_profiling",label:o.automatic_decisions,options:x.H}),(0,w.jsx)(m.uc,{resourceFidesKey:t.fides_key,resourceType:e})]})},transformEntityToInitialValues:function(e){var t,n,r;return O(O({},C(e,D.customFieldValues)),{},{rights:null!==(t=null===(n=e.rights)||void 0===n?void 0:n.values)&&void 0!==t?t:[],strategy:null===(r=e.rights)||void 0===r?void 0:r.strategy,automatic_decisions_or_profiling:null==e.automated_decisions_or_profiling?"false":e.automated_decisions_or_profiling.toString()})}}}})}],Q=function(){var e=(0,s.T)();return(0,w.jsxs)(r.xu,{"data-testid":"taxonomy-tabs",display:"flex",children:[(0,w.jsx)(o.Z,{border:"full-width",data:$,flexGrow:1,isLazy:!0}),(0,w.jsx)(r.xu,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,w.jsx)(a.zx,{size:"sm",variant:"outline",onClick:function(){e((0,k.Gz)(!0))},"data-testid":"add-taxonomy-btn",children:"Add Taxonomy Entity +"})})]})},Y=function(){return(0,w.jsxs)(i.Z,{title:"Datasets",children:[(0,w.jsx)(r.X6,{mb:2,fontSize:"2xl",fontWeight:"semibold",children:"Taxonomy Management"}),(0,w.jsx)(Q,{})]})}},26595:function(e,t,n){"use strict";n.d(t,{isAPIError:function(){return r.Bw},isErrorResult:function(){return r.D4}});var r=n(27396)},66199:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/taxonomy",function(){return n(10272)}])}},function(e){e.O(0,[2437,3880,4231,6114,9598,3879,5579,9774,2888,179],(function(){return t=66199,e(e.s=t);var t}));var t=e.O();_N_E=t}]);