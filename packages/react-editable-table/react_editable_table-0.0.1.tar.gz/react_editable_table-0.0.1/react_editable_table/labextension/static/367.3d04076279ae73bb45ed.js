"use strict";(self.webpackChunkreact_editable_table=self.webpackChunkreact_editable_table||[]).push([[367],{894:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(r(271)),i=r(64);var a;t.default=(a=function(e){const[t]=(0,i.useModelState)("columns"),[r,n]=(0,i.useModelState)("data"),a=(0,i.useModelMessenger)(),o=r.map(((e,r)=>l.default.createElement("tr",{key:r},t.map((t=>l.default.createElement("td",{key:t.header},t.editable?l.default.createElement("input",{type:"text",value:e[t.accessor],onChange:l=>{const i=Object.assign(Object.assign({},e),{[t.accessor]:l.target.value});n((e=>{e[r]=i})),a({type:"cell-changed",payload:{row:i,index:r}})}}):e[t.accessor]))))));return l.default.createElement("div",null,l.default.createElement("table",null,l.default.createElement("thead",null,t.map((e=>l.default.createElement("th",null,e.header)))),l.default.createElement("tbody",null,o)))},e=>l.default.createElement(i.WidgetModelContext.Provider,{value:e.model},l.default.createElement(a,Object.assign({},e))))},64:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useModelMessenger=t.useModel=t.useModelEvent=t.useModelState=t.WidgetModelContext=void 0;const n=r(271),l=r(684);function i(e,t,r){const l=a(),i=void 0===r?[l]:[...r,l];(0,n.useEffect)((()=>{const r=e=>{l&&t(l,e)};return null==l||l.on(e,r),()=>{null==l||l.unbind(e,r)}}),i)}function a(){return(0,n.useContext)(t.WidgetModelContext)}t.WidgetModelContext=(0,n.createContext)(void 0),t.useModelState=function(e){const t=a(),[r,o]=(0,n.useState)(null==t?void 0:t.get(e));return i(`change:${e}`,(t=>{o(t.get(e))}),[e]),[r,function(n,i){const a=(0,l.produce)(r,n);null==t||t.set(e,a,i),null==t||t.save_changes()}]},t.useModelEvent=i,t.useModel=a,t.useModelMessenger=function(){const e=a();return function(t){null==e||e.send(t)}}},657:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const n=r(147);t.MODULE_VERSION=n.version,t.MODULE_NAME=n.name},367:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExampleView=t.ExampleModel=void 0;const l=r(673),i=n(r(894)),a=n(r(271)),o=n(r(456)),u=r(657),s={value:"Hello World",columns:[],data:[]};class c extends l.DOMWidgetModel{defaults(){return Object.assign(Object.assign(Object.assign({},super.defaults()),{_model_name:c.model_name,_model_module:c.model_module,_model_module_version:c.model_module_version,_view_name:c.view_name,_view_module:c.view_module,_view_module_version:c.view_module_version}),s)}initialize(e,t){super.initialize(e,t),this.on("msg:custom",(e=>{this.send(e)}))}}c.serializers=Object.assign({},l.DOMWidgetModel.serializers),c.model_name="ExampleModel",c.model_module=u.MODULE_NAME,c.model_module_version=u.MODULE_VERSION,c.view_name="ExampleView",c.view_module=u.MODULE_NAME,c.view_module_version=u.MODULE_VERSION,t.ExampleModel=c;class d extends l.DOMWidgetView{render(){const e=a.default.createElement(i.default,{model:this.model});o.default.render(e,this.el)}}t.ExampleView=d},999:e=>{var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{Immer:()=>q,applyPatches:()=>ae,castDraft:()=>se,castImmutable:()=>ce,createDraft:()=>oe,current:()=>Q,enableMapSet:()=>ee,enablePatches:()=>Z,finishDraft:()=>ue,freeze:()=>E,immerable:()=>u,isDraft:()=>f,isDraftable:()=>p,nothing:()=>o,original:()=>m,produce:()=>re,produceWithPatches:()=>ne,setAutoFreeze:()=>le,setUseStrictShallowCopy:()=>ie}),e.exports=(t=a,((e,t,a,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of l(t))!i.call(e,a)&&undefined!==a&&r(e,a,{get:()=>t[a],enumerable:!(o=n(t,a))||o.enumerable});return e})(r({},"__esModule",{value:!0}),t));var o=Symbol.for("immer-nothing"),u=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function c(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var d=Object.getPrototypeOf;function f(e){return!!e&&!!e[s]}function p(e){return!!e&&(b(e)||Array.isArray(e)||!!e[u]||!!e.constructor?.[u]||O(e)||x(e))}var h=Object.prototype.constructor.toString();function b(e){if(!e||"object"!=typeof e)return!1;let t=d(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===h}function m(e){return f(e)||c(15),e[s].t}function y(e,t){0===v(e)?Object.entries(e).forEach((([r,n])=>{t(r,n,e)})):e.forEach(((r,n)=>t(n,r,e)))}function v(e){let t=e[s];return t?t.o:Array.isArray(e)?1:O(e)?2:x(e)?3:0}function g(e,t){return 2===v(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return 2===v(e)?e.get(t):e[t]}function _(e,t,r){let n=v(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function O(e){return e instanceof Map}function x(e){return e instanceof Set}function M(e){return e.e||e.t}function j(e,t){if(O(e))return new Map(e);if(x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&b(e))return d(e)?{...e}:Object.assign(Object.create(null),e);let r=Object.getOwnPropertyDescriptors(e);delete r[s];let n=Reflect.ownKeys(r);for(let t=0;t<n.length;t++){let l=n[t],i=r[l];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[l]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[l]})}return Object.create(d(e),r)}function E(e,t=!1){return P(e)||f(e)||!p(e)||(v(e)>1&&(e.set=e.add=e.clear=e.delete=S),Object.freeze(e),t&&y(e,((e,t)=>E(t,!0)))),e}function S(){c(2)}function P(e){return Object.isFrozen(e)}var D,A={};function k(e){let t=A[e];return t||c(0),t}function z(e,t){A[e]||(A[e]=t)}function C(){return D}function N(e,t){t&&(k("Patches"),e.f=[],e.h=[],e.b=t)}function W(e){U(e),e.a.forEach(I),e.a=null}function U(e){e===D&&(D=e.i)}function F(e){return D=function(e,t){return{a:[],i:e,p:t,P:!0,d:0}}(D,e)}function I(e){let t=e[s];0===t.o||1===t.o?t.x():t.m=!0}function L(e,t){t.d=t.a.length;let r=t.a[0];return void 0!==e&&e!==r?(r[s].s&&(W(t),c(4)),p(e)&&(e=V(t,e),t.i||K(t,e)),t.f&&k("Patches").T(r[s].t,e,t.f,t.h)):e=V(t,r,[]),W(t),t.f&&t.b(t.f,t.h),e!==o?e:void 0}function V(e,t,r){if(P(t))return t;let n=t[s];if(!n)return y(t,((l,i)=>R(e,n,t,l,i,r))),t;if(n.n!==e)return t;if(!n.s)return K(e,n.t,!0),n.t;if(!n.c){n.c=!0,n.n.d--;let t=n.e,l=t,i=!1;3===n.o&&(l=new Set(t),t.clear(),i=!0),y(l,((l,a)=>R(e,n,t,l,a,r,i))),K(e,t,!1),r&&e.f&&k("Patches").g(n,r,e.f,e.h)}return n.e}function R(e,t,r,n,l,i,a){if(f(l)){let a=V(e,l,i&&t&&3!==t.o&&!g(t.r,n)?i.concat(n):void 0);if(_(r,n,a),!f(a))return;e.P=!1}else a&&r.add(l);if(p(l)&&!P(l)){if(!e.p.y&&e.d<1)return;V(e,l),(!t||!t.n.i)&&K(e,l)}}function K(e,t,r=!1){!e.i&&e.p.y&&e.P&&E(t,r)}var T={get(e,t){if(t===s)return e;let r=M(e);if(!g(r,t))return function(e,t,r){let n=B(t,r);return n?"value"in n?n.value:n.get?.call(e.u):void 0}(e,r,t);let n=r[t];return e.c||!p(n)?n:n===$(e.t,t)?(X(e),e.e[t]=G(n,e)):n},has:(e,t)=>t in M(e),ownKeys:e=>Reflect.ownKeys(M(e)),set(e,t,r){let n=B(M(e),t);if(n?.set)return n.set.call(e.u,r),!0;if(!e.s){let n=$(M(e),t),l=n?.[s];if(l&&l.t===r)return e.e[t]=r,e.r[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,n)&&(void 0!==r||g(e.t,t)))return!0;X(e),H(e)}return e.e[t]===r&&(void 0!==r||t in e.e)||Number.isNaN(r)&&Number.isNaN(e.e[t])||(e.e[t]=r,e.r[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==$(e.t,t)||t in e.t?(e.r[t]=!1,X(e),H(e)):delete e.r[t],e.e&&delete e.e[t],!0),getOwnPropertyDescriptor(e,t){let r=M(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:1!==e.o||"length"!==t,enumerable:n.enumerable,value:r[t]}},defineProperty(){c(11)},getPrototypeOf:e=>d(e.t),setPrototypeOf(){c(12)}},J={};function $(e,t){let r=e[s];return(r?M(r):e)[t]}function B(e,t){if(!(t in e))return;let r=d(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=d(r)}}function H(e){e.s||(e.s=!0,e.i&&H(e.i))}function X(e){e.e||(e.e=j(e.t,e.n.p.S))}y(T,((e,t)=>{J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return J.set.call(this,e,t,void 0)},J.set=function(e,t,r){return T.set.call(this,e[0],t,r,e[0])};var q=class{constructor(e){this.y=!0,this.S=!1,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...l){return n.produce(e,(e=>t.call(this,e,...l)))}}let n;if("function"!=typeof t&&c(6),void 0!==r&&"function"!=typeof r&&c(7),p(e)){let l=F(this),i=G(e,void 0),a=!0;try{n=t(i),a=!1}finally{a?W(l):U(l)}return N(l,r),L(n,l)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===o&&(n=void 0),this.y&&E(n,!0),r){let t=[],l=[];k("Patches").T(e,n,t,l),r(t,l)}return n}c(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,(t=>e(t,...r)));let r,n;return[this.produce(e,t,((e,t)=>{r=e,n=t})),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){p(e)||c(8),f(e)&&(e=Q(e));let t=F(this),r=G(e,void 0);return r[s].l=!0,U(t),r}finishDraft(e,t){let r=e&&e[s];(!r||!r.l)&&c(9);let{n}=r;return N(n,t),L(void 0,n)}setAutoFreeze(e){this.y=e}setUseStrictShallowCopy(e){this.S=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=k("Patches").A;return f(e)?n(e,t):this.produce(e,(e=>n(e,t)))}};function G(e,t){let r=O(e)?k("MapSet").I(e,t):x(e)?k("MapSet").D(e,t):function(e,t){let r=Array.isArray(e),n={o:r?1:0,n:t?t.n:C(),s:!1,c:!1,r:{},i:t,t:e,u:null,e:null,x:null,l:!1},l=n,i=T;r&&(l=[n],i=J);let{revoke:a,proxy:o}=Proxy.revocable(l,i);return n.u=o,n.x=a,o}(e,t);return(t?t.n:C()).a.push(r),r}function Q(e){return f(e)||c(10),Y(e)}function Y(e){if(!p(e)||P(e))return e;let t,r=e[s];if(r){if(!r.s)return r.t;r.c=!0,t=j(e,r.n.p.S)}else t=j(e,!0);return y(t,((e,r)=>{_(t,e,Y(r))})),r&&(r.c=!1),t}function Z(){let e="replace",t="add",r="remove";function n(e){if(!p(e))return e;if(Array.isArray(e))return e.map(n);if(O(e))return new Map(Array.from(e.entries()).map((([e,t])=>[e,n(t)])));if(x(e))return new Set(Array.from(e).map(n));let t=Object.create(d(e));for(let r in e)t[r]=n(e[r]);return g(e,u)&&(t[u]=e[u]),t}function l(e){return f(e)?n(e):e}z("Patches",{A:function(l,i){return i.forEach((i=>{let{path:a,op:o}=i,u=l;for(let e=0;e<a.length-1;e++){let t=v(u),r=a[e];"string"!=typeof r&&"number"!=typeof r&&(r=""+r),(0===t||1===t)&&("__proto__"===r||"constructor"===r)&&c(19),"function"==typeof u&&"prototype"===r&&c(19),u=w(u,r),"object"!=typeof u&&c(18,a.join("/"))}let s=v(u),d=n(i.value),f=a[a.length-1];switch(o){case e:switch(s){case 2:return u.set(f,d);case 3:c(16);default:return u[f]=d}case t:switch(s){case 1:return"-"===f?u.push(d):u.splice(f,0,d);case 2:return u.set(f,d);case 3:return u.add(d);default:return u[f]=d}case r:switch(s){case 1:return u.splice(f,1);case 2:return u.delete(f);case 3:return u.delete(i.value);default:return delete u[f]}default:c(17)}})),l},g:function(n,i,a,o){switch(n.o){case 0:case 2:return function(n,i,a,o){let{t:u,e:s}=n;y(n.r,((n,c)=>{let d=w(u,n),f=w(s,n),p=c?g(u,n)?e:t:r;if(d===f&&p===e)return;let h=i.concat(n);a.push(p===r?{op:p,path:h}:{op:p,path:h,value:f}),o.push(p===t?{op:r,path:h}:p===r?{op:t,path:h,value:l(d)}:{op:e,path:h,value:l(d)})}))}(n,i,a,o);case 1:return function(n,i,a,o){let{t:u,r:s}=n,c=n.e;c.length<u.length&&([u,c]=[c,u],[a,o]=[o,a]);for(let t=0;t<u.length;t++)if(s[t]&&c[t]!==u[t]){let r=i.concat([t]);a.push({op:e,path:r,value:l(c[t])}),o.push({op:e,path:r,value:l(u[t])})}for(let e=u.length;e<c.length;e++){let r=i.concat([e]);a.push({op:t,path:r,value:l(c[e])})}for(let e=c.length-1;u.length<=e;--e){let t=i.concat([e]);o.push({op:r,path:t})}}(n,i,a,o);case 3:return function(e,n,l,i){let{t:a,e:o}=e,u=0;a.forEach((e=>{if(!o.has(e)){let a=n.concat([u]);l.push({op:r,path:a,value:e}),i.unshift({op:t,path:a,value:e})}u++})),u=0,o.forEach((e=>{if(!a.has(e)){let a=n.concat([u]);l.push({op:t,path:a,value:e}),i.unshift({op:r,path:a,value:e})}u++}))}(n,i,a,o)}},T:function(t,r,n,l){n.push({op:e,path:[],value:r===o?void 0:r}),l.push({op:e,path:[],value:t})}})}function ee(){class e extends Map{constructor(e,t){super(),this[s]={o:2,i:t,n:t?t.n:C(),s:!1,c:!1,e:void 0,r:void 0,t:e,u:this,l:!1,m:!1}}get size(){return M(this[s]).size}has(e){return M(this[s]).has(e)}set(e,r){let n=this[s];return l(n),(!M(n).has(e)||M(n).get(e)!==r)&&(t(n),H(n),n.r.set(e,!0),n.e.set(e,r),n.r.set(e,!0)),this}delete(e){if(!this.has(e))return!1;let r=this[s];return l(r),t(r),H(r),r.t.has(e)?r.r.set(e,!1):r.r.delete(e),r.e.delete(e),!0}clear(){let e=this[s];l(e),M(e).size&&(t(e),H(e),e.r=new Map,y(e.t,(t=>{e.r.set(t,!1)})),e.e.clear())}forEach(e,t){M(this[s]).forEach(((r,n,l)=>{e.call(t,this.get(n),n,this)}))}get(e){let r=this[s];l(r);let n=M(r).get(e);if(r.c||!p(n)||n!==r.t.get(e))return n;let i=G(n,r);return t(r),r.e.set(e,i),i}keys(){return M(this[s]).keys()}values(){let e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{let t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}}entries(){let e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{let t=e.next();if(t.done)return t;let r=this.get(t.value);return{done:!1,value:[t.value,r]}}}}[Symbol.iterator](){return this.entries()}}function t(e){e.e||(e.r=new Map,e.e=new Map(e.t))}class r extends Set{constructor(e,t){super(),this[s]={o:3,i:t,n:t?t.n:C(),s:!1,c:!1,e:void 0,t:e,u:this,a:new Map,m:!1,l:!1}}get size(){return M(this[s]).size}has(e){let t=this[s];return l(t),t.e?!!(t.e.has(e)||t.a.has(e)&&t.e.has(t.a.get(e))):t.t.has(e)}add(e){let t=this[s];return l(t),this.has(e)||(n(t),H(t),t.e.add(e)),this}delete(e){if(!this.has(e))return!1;let t=this[s];return l(t),n(t),H(t),t.e.delete(e)||!!t.a.has(e)&&t.e.delete(t.a.get(e))}clear(){let e=this[s];l(e),M(e).size&&(n(e),H(e),e.e.clear())}values(){let e=this[s];return l(e),n(e),e.e.values()}entries(){let e=this[s];return l(e),n(e),e.e.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){let r=this.values(),n=r.next();for(;!n.done;)e.call(t,n.value,n.value,this),n=r.next()}}function n(e){e.e||(e.e=new Set,e.t.forEach((t=>{if(p(t)){let r=G(t,e);e.a.set(t,r),e.e.add(r)}else e.e.add(t)})))}function l(e){e.m&&c(3,JSON.stringify(M(e)))}z("MapSet",{I:function(t,r){return new e(t,r)},D:function(e,t){return new r(e,t)}})}var te=new q,re=te.produce,ne=te.produceWithPatches.bind(te),le=te.setAutoFreeze.bind(te),ie=te.setUseStrictShallowCopy.bind(te),ae=te.applyPatches.bind(te),oe=te.createDraft.bind(te),ue=te.finishDraft.bind(te);function se(e){return e}function ce(e){return e}},684:(e,t,r)=>{e.exports=r(999)},147:e=>{e.exports=JSON.parse('{"name":"react-editable-table","version":"0.1.0","description":"A Custom Jupyter Widget Library","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/tidbcloud/react-editable-table","bugs":{"url":"https://github.com/tidbcloud/react-editable-table/issues"},"license":"BSD-3-Clause","author":{"name":"zoubingwu","email":"zoubingwu@gmail.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/tidbcloud/react-editable-table"},"scripts":{"build":"npm run build:lib && npm run build:nbextension && npm run build:labextension:dev","build:prod":"npm run build:lib && npm run build:nbextension && npm run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","clean":"npm run clean:lib && npm run clean:nbextension && npm run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf react_editable_table/labextension","clean:nbextension":"rimraf react_editable_table/nbextension/static/index.js","prepack":"npm run build:lib","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^6.0.4","react":"^17.0.2","react-dom":"^17.0.2"},"devDependencies":{"@babel/core":"^7.21.4","@babel/preset-env":"^7.21.4","@babel/preset-react":"^7.18.6","@babel/preset-typescript":"^7.21.4","@jupyterlab/builder":"^3.6.3","@lumino/application":"^2.1.0","@lumino/widgets":"^2.1.0","@types/react":"^17.0.2","@types/react-dom":"^17.0.2","@types/webpack":"^5.28.1","@types/webpack-env":"^1.18.0","babel-loader":"^9.1.2","css-loader":"^6.7.3","fs-extra":"^11.1.1","immer":"^10.0.1","mkdirp":"^3.0.1","npm-run-all":"^4.1.5","prettier":"^2.8.8","rimraf":"^5.0.0","source-map-loader":"^4.0.1","style-loader":"^3.3.2","ts-loader":"^9.4.2","typescript":"~5.0.4","webpack":"^5.80.0","webpack-cli":"^5.0.2"},"babel":{"presets":["@babel/preset-env","@babel/preset-react","@babel/preset-typescript"]},"jupyterlab":{"extension":"lib/plugin","outputDir":"react_editable_table/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);